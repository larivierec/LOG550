<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>LOG550: RÃ©fÃ©rence du fichier adc.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LOG550
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- GÃ©nÃ©rÃ© par Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li class="current"><a href="files.html"><span>Fichiers</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Liste&#160;des&#160;fichiers</span></a></li>
      <li><a href="globals.html"><span>Variables&#160;globale</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Fonctions</a>  </div>
  <div class="headertitle">
<div class="title">RÃ©fÃ©rence du fichier adc.c</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="adc_8c_source.html">Aller au code source de ce fichier.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Fonctions</h2></td></tr>
<tr class="memitem:ae5a854f2d1781f11ebf5f9d1c8e5d127"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adc_8c.html#ae5a854f2d1781f11ebf5f9d1c8e5d127">SIGNAL</a> (SIG_ADC)</td></tr>
<tr class="memdesc:ae5a854f2d1781f11ebf5f9d1c8e5d127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro qui assigne une fonction d'interruption à une interruption.  <a href="#ae5a854f2d1781f11ebf5f9d1c8e5d127">Plus de dÃ©tails...</a><br /></td></tr>
<tr class="separator:ae5a854f2d1781f11ebf5f9d1c8e5d127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b815e6730e8723a6d1d06d9ef8f31c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adc_8c.html#a2b815e6730e8723a6d1d06d9ef8f31c0">adc_init</a> (void)</td></tr>
<tr class="memdesc:a2b815e6730e8723a6d1d06d9ef8f31c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour initialiser le convertisseur <br />
 Vous avez à coder cette fonction.  <a href="#a2b815e6730e8723a6d1d06d9ef8f31c0">Plus de dÃ©tails...</a><br /></td></tr>
<tr class="separator:a2b815e6730e8723a6d1d06d9ef8f31c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add802e01726b47c2a7ac4e5ecfd5f705"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adc_8c.html#add802e01726b47c2a7ac4e5ecfd5f705">start_adc</a> (void)</td></tr>
<tr class="memdesc:add802e01726b47c2a7ac4e5ecfd5f705"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour démarrer l'acquisition <br />
 Vous avez à coder cette fonction.  <a href="#add802e01726b47c2a7ac4e5ecfd5f705">Plus de dÃ©tails...</a><br /></td></tr>
<tr class="separator:add802e01726b47c2a7ac4e5ecfd5f705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b570680e3c49c389c554cfb45ac91f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adc_8c.html#ac9b570680e3c49c389c554cfb45ac91f">stop_adc</a> (void)</td></tr>
<tr class="memdesc:ac9b570680e3c49c389c554cfb45ac91f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fonction pour arrêter l'acquisition <br />
 Vous avez à coder cette fonction.  <a href="#ac9b570680e3c49c389c554cfb45ac91f">Plus de dÃ©tails...</a><br /></td></tr>
<tr class="separator:ac9b570680e3c49c389c554cfb45ac91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cda336f6f819888df409de999747340"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adc_8c.html#a8cda336f6f819888df409de999747340">read_counter</a> ()</td></tr>
<tr class="memdesc:a8cda336f6f819888df409de999747340"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exemple de fonction : Fonction pour gérer les LED <br />
 Ceci est un exemple de code que vous aurez probablement à modifier.  <a href="#a8cda336f6f819888df409de999747340">Plus de dÃ©tails...</a><br /></td></tr>
<tr class="separator:a8cda336f6f819888df409de999747340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7f530f541bc483f0cf01b77e462d20"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f7f530f541bc483f0cf01b77e462d20"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="adc_8c.html#a9f7f530f541bc483f0cf01b77e462d20">writeError</a> (u08 error)</td></tr>
<tr class="memdesc:a9f7f530f541bc483f0cf01b77e462d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exemple de fonction : Fonction pour signaler une erreur (dépassement) en allumant un LED <br />
 Ceci est un exemple de code que vous aurez peut-être à modifier. <br /></td></tr>
<tr class="separator:a9f7f530f541bc483f0cf01b77e462d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description dÃ©taillÃ©e</h2>
<div class="textblock"><p>Ce fichier est un canevas pour le module utilisant le convertisseur Analogue/Digital sur le microcontrôleur ATmega163.</p>
<p><b>Suggestion : </b> Consulter la Note d'application AppNote 21 &ndash; Using the ADC <br />
 Attention : Cette note n'utilise pas une bonne méthode pour écrire les registres</p>
<p>Note: L'ADC utilise 4 registres : ADMUX, ADCSR, ADCL, ADCH <br />
 (reference section ADC: page 101-110) </p>

<p>DÃ©finition dans le fichier <a class="el" href="adc_8c_source.html">adc.c</a>.</p>
</div><h2 class="groupheader">Documentation des fonctions</h2>
<a class="anchor" id="a2b815e6730e8723a6d1d06d9ef8f31c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour initialiser le convertisseur <br />
 Vous avez à coder cette fonction. </p>
<ul>
<li>Configuration des registres &ndash; ADCSR &amp; ADMUX</li>
<li>Voltage reference selection, Table 40 (REFS1=0 REFS0=0)</li>
<li>Calcul et contrôle du taux d'échantillonnage (???)</li>
<li>enable interrupts (???) </li>
</ul>

<p>DÃ©finition Ã  la ligne <a class="el" href="adc_8c_source.html#l00088">88</a> du fichier <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8cda336f6f819888df409de999747340"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void read_counter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Exemple de fonction : Fonction pour gérer les LED <br />
 Ceci est un exemple de code que vous aurez probablement à modifier. </p>
<p>Algorithme de base : <br />
 A chaque 2000 conversions, le drapeau counterReady = 1 Dans ce cas, on incrémente la valeur affichée sur la 4 LEDs</p>

<p>DÃ©finition Ã  la ligne <a class="el" href="adc_8c_source.html#l00156">156</a> du fichier <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae5a854f2d1781f11ebf5f9d1c8e5d127"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SIGNAL </td>
          <td>(</td>
          <td class="paramtype">SIG_ADC&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro qui assigne une fonction d'interruption à une interruption. </p>
<p>Dans notre laboratoire, nous utiliserons trois interruptions :</p><ul>
<li>SIG_UART_TRANS qui survient à la fin de la transmission de chaque caratère</li>
<li>SIG_UART_RECV qui survient à la réception de chaque caractère</li>
<li>SIG_ADC qui survient à la fin de chaque conversion</li>
</ul>
<p>Vous avez à coder ces fonctions : </p>
<ul>
<li>Sélection alternative du canal (ADMUX)</li>
<li>Lecture de la valeur ADC (ADCH &amp; ADCL) <pre class="fragment">    - Gestion des compteurs et alarmes ??? (LED) 
</pre></li>
<li>Exemple : incrémentation des compteurs</li>
<li>Encodage du numéro du canal</li>
<li>Transmission et gestion des erreurs de débordement<ul>
<li>on n'a pas encore fini l'échantillon précédent (Erreur)</li>
<li>OK, transmission ??</li>
</ul>
</li>
</ul>

<p>DÃ©finition Ã  la ligne <a class="el" href="adc_8c_source.html#l00059">59</a> du fichier <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="add802e01726b47c2a7ac4e5ecfd5f705"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void start_adc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour démarrer l'acquisition <br />
 Vous avez à coder cette fonction. </p>
<ul>
<li>Initialisation des variables</li>
<li>Selection du canal 0 &ndash; ADMUX</li>
<li>Activation de l'interruption ADC &ndash; ADCSR</li>
<li>Start Conversion &ndash; ADCSR </li>
</ul>

<p>DÃ©finition Ã  la ligne <a class="el" href="adc_8c_source.html#l00111">111</a> du fichier <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac9b570680e3c49c389c554cfb45ac91f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stop_adc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fonction pour arrêter l'acquisition <br />
 Vous avez à coder cette fonction. </p>
<ul>
<li>Stop Conversion &ndash; ADCSR</li>
<li>Gestion des alarmes &amp; compteurs</li>
<li>Mise à jour des LED ??? </li>
</ul>

<p>DÃ©finition Ã  la ligne <a class="el" href="adc_8c_source.html#l00132">132</a> du fichier <a class="el" href="adc_8c_source.html">adc.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
GÃ©nÃ©rÃ© le Jeudi 26 FÃ©vrier 2015 19:51:43 pour LOG550 par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
